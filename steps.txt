# 1. Install system dependencies
sudo apt-get update
sudo apt-get install -y python3-dev libffi-dev libssl-dev build-essential \
    libxml2-dev libxslt1-dev zlib1g-dev libusb-1.0-0-dev libmagic1

# 2. Create virtual environment with Python 3.12 (or 3.11)
python3.12 -m venv venv
source venv/bin/activate

# 3. Install packages
pip install --upgrade pip
pip install -r requirements.txt

# 4. Test installation
python test_compatibility.py